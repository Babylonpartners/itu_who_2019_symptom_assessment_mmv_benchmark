[back](../README.md)

## Django and Django Rest Framework
This project is based on Django and DRF, if you're not familiar with those frameworks it is highly recommended to have a look at their documentation:
   * [Django docs](https://docs.djangoproject.com/en/3.0/)
   * [DRF docs](https://www.django-rest-framework.org/)

And also try to follow their tutorial/quickstart guides to get some traction on the basics:
   * [Django intro](https://docs.djangoproject.com/en/3.0/intro/)
   * [DRF quickstart](https://www.django-rest-framework.org/tutorial/quickstart/)

### Project structure

#### Django and DRF general structures
The project structure is based on a regular django project. Within the root folder there are a `manage.py` file and the root project folder `mmvb_backend`, both initially generated with the django command for starting a new project:
```
$ django-admin startproject mmvb_backend .
```

Within the project folder the multiple django applications were initially created using the django command for starting a new application:
```
$ cd mmvb_backend
$ django-admin startapp <app_name>
```

The general structure of a django project is the following:
  * project_name
    - settings.py
    - urls.py
    - wsgi.py
    - app_name_1
    - app_name_n

In the `wsgi.py` file you can define the configurations for serving the application using the Web Server Gateway Interface protocol.

Within the `urls.py` files you can configure, on a project level, the url patterns you want to serve and bind them to the request handlers you implement on your apps views, or delegate their resolving to your apps urls files or routers.

The `settings.py` files is where you configure the whole project. Within it you define the database connection configurations, the middleware the framework is supposed to use, and the django applications that are supposed to be installed in this project, amongst other settings.

The general structure of a django application is the following:
  * app_name_n
    - models.py
    - views.py
    - urls.py
    - apps.py
    - migrations
    - templates

The `app_name_n` folder is a python package in which the application files are created.

The `models.py` file is where you implement your data models using the orm classes and infrastructure provided by django.
In the `views.py` file you should implement the classes/functions for handling the http requests your application should respond to.
While in the `urls.py` you map the url patterns you are serving to the view functions that will handle the requests to those urls.

The `apps.py` should contain the application custom configurations, which is particularly useful when you are building reusable applications.

On the `migrations` folder django stores the data migration files, which are a python representation of the database operations that should be performed to adequate the database schema to the changes in your data models. Those files can be generated by
`python manage.py makemigrations` and can be applied to the database with `python manage.py migrate`.

Within the `templates` folder you usually store the html templates implementing the uis your views should render/serve.

For this project you will see some of those files might no be present for some apps due to the fact they were not being used.
In addition to the exposed structure, some of the applications implement rest api endpoints using DRF, and should add the presented structure:
  * app_root_folder
    - api
      + views.py
      + serializers.py
      + urls.py

The api folder should contain the files for implementing the REST API endpoints.

Within the `views.py` file you usually implement the the classes for handling the api endpoints requests. This can be achieved using multiple different approaches: [Views](https://www.django-rest-framework.org/api-guide/views/), [Generic Views](https://www.django-rest-framework.org/api-guide/generic-views/), [ViewSets](https://www.django-rest-framework.org/api-guide/viewsets/).

In the `serializers.py` file you usually implement the classes for handling data serialization for your data models. Depending on the approach the serializer can also be used to handle the request itself, delegated by the view. Check [Serializers](https://www.django-rest-framework.org/api-guide/serializers/#serializers) and [ModelSerializers](https://www.django-rest-framework.org/api-guide/serializers/#modelserializer) for more information.

Finally, the `urls.py` file is used to define the api routing to bind the api endpoints to their request handlers (views). For further information check [Routers](https://www.django-rest-framework.org/api-guide/routers/).\

#### Celery integration

For properly integrating celery within the django project three things are/were necessary:
  - Configurations for the celery application within the django `settings.py` file
  - `djcelery.py` file on the project root to configure the celery application integrated with the django project
  - Exposure of the celery application on the project python package through the `__init__.py` file on the project root folder